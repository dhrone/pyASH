{
  "$schema": "http://json-schema.org/draft-04/schema#",
  "title": "Alexa Smart Home Message Schema",
  "description": "A JSON message sent from a skill to Alexa, either proactively or as a response to a directive",
  "definitions": {
      "common.properties": {
          "payloadVersion": {
              "enum": [
                  "3"
              ]
          },
          "message": {
              "type": "string"
          },
          "currentDeviceMode": {
              "enum": [
                  "ASLEEP",
                  "NOT_PROVISIONED",
                  "COLOR",
                  "OTHER"
              ]
          },
          "messageId": {
              "type": "string",
              "minLength": 1,
              "maxLength": 127,
              "pattern": "^[a-zA-Z0-9\\-]*$"
          }
      }
  },
  "oneOf":[
    {"$ref": "#/definitions/common.properties/payloadVersion"},
    {"$ref": "#/definitions/common.properties/message"},
    {"$ref": "#/definitions/common.properties/currentDeviceMode"},
    {"$ref": "#/definitions/common.properties/messageId"}
  ]
}
